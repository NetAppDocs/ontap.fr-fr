---
sidebar: sidebar 
permalink: networking/configure_network_security_using_federal_information_processing_standards_fips.html 
keywords: fips 140-2, compliant, ssl, connections, tlsv1.2, tlsv1.1, tlsv1, enable fips, disable fips, compliance status, SSL 
summary: 'Les normes fédérales de traitement des informations (FIPS) 140-2 sont conformes pour toutes les connexions SSL' 
---
= Configurez la sécurité réseau ONTAP à l'aide de FIPS pour toutes les connexions SSL
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
ONTAP est conforme aux normes fédérales de traitement de l'information (FIPS) 140-2 pour toutes les connexions SSL.  Vous pouvez activer et désactiver le mode SSL FIPS, définir les protocoles SSL globalement et désactiver les chiffrements faibles dans ONTAP.

Par défaut, SSL sur ONTAP est défini avec la conformité FIPS désactivée et les protocoles TLS suivants activés :

* TLSv1.3 (à partir de ONTAP 9.11.1)
* TLSv1.2


Les protocoles TLS suivants étaient activés par défaut dans les versions précédentes de ONTAP :

* TLSv1.1 (désactivé par défaut à partir de ONTAP 9.12.1)
* TLSv1 (désactivé par défaut à partir de ONTAP 9.8)


Lorsque le mode SSL FIPS est activé, la communication SSL de ONTAP à des clients externes ou des composants de serveur en dehors de ONTAP utilise une fonctionnalité crypto pour SSL conforme à la norme FIPS.

Si vous souhaitez que les comptes d'administrateur accèdent aux SVM avec une clé publique SSH, vous devez vous assurer que l'algorithme de clé hôte est pris en charge avant d'activer le mode SSL FIPS.

*Remarque :* la prise en charge de l'algorithme de clé hôte a changé dans ONTAP 9.11.1 et versions ultérieures.

[cols="30,30,30"]
|===


| Version de ONTAP | Types de clés pris en charge | Types de clés non pris en charge 


 a| 
9.11.1 et versions ultérieures
 a| 
ecdsa-sha2-nistp256
 a| 
rsa-sha2-512 +
rsa-sha2-256 +
ssh-ed25519 +
ssh-dss +
ssh-rsa



 a| 
9.10.1 et versions antérieures
 a| 
ecdsa-sha2-nistp256 +
ssh-ed25519
 a| 
ssh-dss +
ssh-rsa

|===
Les comptes de clés publiques SSH existants sans les algorithmes de clé pris en charge doivent être reconfigurés avec un type de clé pris en charge avant l'activation de FIPS, sinon l'authentification de l'administrateur échoue.

Pour plus d'informations, voir link:../authentication/enable-ssh-public-key-accounts-task.html["Activez les comptes de clé publique SSH"].

ONTAP 9.18.1 introduit la prise en charge des algorithmes cryptographiques post-quantiques ML-KEM, ML-DSA et SLH-DSA pour SSL, offrant une couche de sécurité supplémentaire contre les futures attaques potentielles d'ordinateurs quantiques.  Ces algorithmes ne sont disponibles que lorsque<<Désactivez FIPS,Le système FIPS est désactivé.>> .  Les algorithmes cryptographiques post-quantiques sont négociés lorsque FIPS est désactivé et que le pair les prend en charge.



== Activez FIPS

Il est recommandé que tous les utilisateurs sécurisés ajustent leur configuration de sécurité immédiatement après l'installation ou la mise à niveau du système. Lorsque le mode SSL FIPS est activé, la communication SSL de ONTAP à des clients externes ou des composants de serveur en dehors de ONTAP utilise une fonctionnalité crypto pour SSL conforme à la norme FIPS.


NOTE: Lorsque FIPS est activé, vous ne pouvez ni installer ni créer de certificat avec une clé RSA d'une longueur de 4096.

.Étapes
. Changement au niveau de privilège avancé :
+
`set -privilege advanced`

. Activer FIPS :
+
`security config modify -is-fips-enabled true`

. Lorsque vous êtes invité à continuer, entrez `y`
. À partir d' ONTAP 9.9.1, le redémarrage n'est pas nécessaire.  Si vous exécutez ONTAP 9.8 ou une version antérieure, redémarrez manuellement chaque nœud du cluster un par un.


.Exemple
Si vous exécutez ONTAP 9.9.1 ou une version ultérieure, le message d'avertissement ne s'affiche pas.

....
security config modify -is-fips-enabled true

Warning: This command will enable FIPS compliance and can potentially cause some non-compliant components to fail. MetroCluster and Vserver DR require FIPS to be enabled on both sites in order to be compatible.
Do you want to continue? {y|n}: y

Warning: When this command completes, reboot all nodes in the cluster. This is necessary to prevent components from failing due to an inconsistent security configuration state in the cluster. To avoid a service outage, reboot one node at a time and wait for it to completely initialize before rebooting the next node. Run "security config status show" command to monitor the reboot status.
Do you want to continue? {y|n}: y
....
Pour en savoir plus sur `security config modify` la configuration du mode SSL FIPS et sur le link:https://docs.netapp.com/us-en/ontap-cli/security-config-modify.html["Référence de commande ONTAP"^].



== Désactivez FIPS

À partir d' ONTAP 9.18.1, SSL dans ONTAP prend en charge les algorithmes cryptographiques post-quantiques ML-KEM, ML-DSA et SLH-DSA.  Ces algorithmes ne sont disponibles que lorsque FIPS est désactivé et que le système homologue les prend en charge.

.Étapes
. Changement au niveau de privilège avancé :
+
`set -privilege advanced`

. Désactiver FIPS en tapant :
+
`security config modify -is-fips-enabled false`

. Lorsque vous êtes invité à continuer, entrez `y`.
. À partir d' ONTAP 9.9.1, le redémarrage n'est pas nécessaire.  Si vous exécutez ONTAP 9.8 ou une version antérieure, redémarrez manuellement chaque nœud du cluster.


Si vous devez utiliser le protocole SSLv3, vous devez désactiver FIPS en suivant la procédure ci-dessus.  SSLv3 ne peut être activé que lorsque FIPS est désactivé.

Vous pouvez activer SSLv3 avec la commande suivante.  Si vous utilisez ONTAP 9.9.1 ou une version ultérieure, vous ne verrez pas le message d'avertissement.

....
security config modify -supported-protocols SSLv3

Warning: Enabling the SSLv3 protocol may reduce the security of the interface, and is not recommended.
Do you want to continue? {y|n}: y

Warning: When this command completes, reboot all nodes in the cluster. This is necessary to prevent components from failing due to an inconsistent security configuration state in the cluster. To avoid a service outage, reboot one node at a time and wait for it to completely initialize before rebooting the next node. Run "security config status show" command to monitor the reboot status.
Do you want to continue? {y|n}: y
....


== Affichez l'état de conformité FIPS

Vous pouvez vérifier si le cluster entier exécute les paramètres de configuration de sécurité actuels.

.Étapes
. Si vous exécutez ONTAP 9.8 ou une version antérieure, redémarrez manuellement chaque nœud du cluster un par un.
. Afficher le statut de conformité actuel :
+
`security config show`

+
....
cluster1::> security config show
Cluster    Supported
FIPS Mode  Protocols Supported Cipher Suites
---------- --------- ----------------------------------------------------------
false      TLSv1.3,  TLS_RSA_WITH_AES_128_CCM, TLS_RSA_WITH_AES_128_CCM_8,
           TLSv1.2   TLS_RSA_WITH_AES_128_GCM_SHA256,
                     TLS_RSA_WITH_AES_128_CBC_SHA,
                     TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_256_CCM,
                     TLS_RSA_WITH_AES_256_CCM_8,
                     ...
....
+
Pour en savoir plus, `security config show` consultez le link:https://docs.netapp.com/us-en/ontap-cli/security-config-show.html["Référence de commande ONTAP"^].



.Informations associées
* link:https://csrc.nist.gov/pubs/fips/203/final["FIPS 203 : Norme relative au mécanisme d’encapsulation de clés basé sur un réseau de modules (ML-KEM)"^]
* link:https://csrc.nist.gov/pubs/fips/204/final["FIPS 204 : Norme de signature numérique basée sur un réseau de modules (ML-DSA)"^]
* link:https://csrc.nist.gov/pubs/fips/205/final["FIPS 205 : Norme de signature numérique sans état basée sur le hachage (SLH-DSA)"^]

