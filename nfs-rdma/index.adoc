---
permalink: nfs-rdma/index.html 
sidebar: sidebar 
keywords: NFS over RDMA, GPU, NVIDIA GDX 
summary: NFS sur RDMA utilise des adaptateurs RDMA. Il permet de copier directement les données entre la mémoire du système de stockage et la mémoire du système hôte, ce qui évite les interruptions du processeur et la surconsommation. 
---
= NFS sur RDMA
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
NFS sur RDMA utilise des adaptateurs RDMA. Il permet de copier directement les données entre la mémoire du système de stockage et la mémoire du système hôte, ce qui évite les interruptions du processeur et la surconsommation.

Les configurations NFS sur RDMA sont conçues pour les clients qui possèdent des charges de travail sensibles à la latence ou à large bande passante, telles que l'apprentissage machine et l'analytique. NVIDIA a étendu NFS sur RDMA pour permettre au GPU Direct Storage (GDS). Le GDS accélère encore plus les charges de travail grâce aux GPU en contournant complètement le processeur et la mémoire principale, et en utilisant RDMA pour transférer directement les données entre le système de stockage et la mémoire GPU.

NFS sur RDMA est pris en charge à partir d'ONTAP 9.10.1. Les configurations NFS sur RDMA ne sont prises en charge que pour le protocole NFSv4.0 lorsqu'elles sont utilisées avec l'adaptateur Mellanox CX-5 ou CX-6, qui fournit la prise en charge de RDMA à l'aide de la version 2 du protocole RoCE. Le GDS est uniquement pris en charge par les processeurs graphiques de la famille NVIDIA Tesla et Ampere avec des cartes NIC Mellanox et le logiciel MOFED. La prise en charge de NFS sur RDMA est limitée au trafic local des nœuds uniquement. Les volumes FlexVol standard ou FlexGroups, où tous les composants se trouvent sur le même nœud, sont pris en charge et doivent être accessibles depuis une LIF sur le même nœud. Des tailles de montage NFS supérieures à 64 000 entraînent des performances instables avec les configurations NFS sur RDMA.

.De formation
* Les systèmes de stockage doivent exécuter ONTAP 9.10.1 ou une version ultérieure
+
** Il est possible de configurer NFS sur RDMA avec System Manager, à partir de ONTAP 9.12.1. Dans ONTAP 9.10.1 et 9.11.1, vous devez utiliser l'interface de ligne de commande pour configurer NFS sur RDMA.


* Les deux nœuds de la paire HA doivent utiliser la même version.
* Les contrôleurs des systèmes de stockage doivent prendre en charge RDMA (actuellement A400, A700 et A800).
* Dispositif de stockage configuré avec du matériel pris en charge par RDMA (p. ex. Mellanox CX-5 ou CX-6).
* Les LIF de données doivent être configurées pour prendre en charge RDMA.
* Les clients doivent utiliser des cartes réseau compatibles RDMA Mellanox et le logiciel réseau MOFED (Mellanox OFED).



NOTE: Les groupes d'interface ne sont pas pris en charge avec NFS sur RDMA.

.Étapes suivantes
* xref:./configure-nics-task.adoc[Configurer les cartes réseau pour NFS sur RDMA]
* xref:./configure-lifs-task.adoc[Configuration des LIF pour NFS sur RDMA]
* xref:./configure-nfs-task.adoc[Paramètres NFS pour NFS sur RDMA]


.Lecture ultérieure
* link:../concepts/rdma-concept["RDMA"]
* link:https://datatracker.ietf.org/doc/html/rfc7530["RFC 7530 : protocole NFS version 4"]
* link:https://datatracker.ietf.org/doc/html/rfc8166["RFC 8166 : transport d'accès direct à la mémoire à distance pour l'appel de procédure à distance version 1"]
* link:https://datatracker.ietf.org/doc/html/rfc8167["RFC 8167 : appel de procédure bidirectionnelle à distance sur les transports RPC-over-RDMA"]
* link:https://datatracker.ietf.org/doc/html/rfc8267["RFC 8267 : liaison de couche supérieure NFS à RPC-over-RDMA version 1"]

