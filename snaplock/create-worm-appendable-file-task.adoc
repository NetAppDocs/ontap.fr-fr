---
permalink: snaplock/create-worm-appendable-file-task.html 
sidebar: sidebar 
keywords: command, program, create, worm, appendable, file, nfs, cifs, chunk 
summary: 'Vous pouvez utiliser n"importe quelle commande ou programme appropriée sur NFS ou CIFS pour créer un fichier compatible WORM. Un fichier WORM fiable conserve les données écrites de manière incrémentielle, comme les entrées de journal. Les données sont ajoutées au fichier par blocs de 256 Ko. Au fur et à mesure que chaque bloc est écrit, le bloc précédent devient protégé par WORM. Vous ne pouvez pas supprimer le fichier tant que la période de conservation n"est pas écoulée.' 
---
= Utilisez une commande ou un programme pour créer un fichier inscriptible WORM
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Vous pouvez utiliser n'importe quelle commande ou programme appropriée sur NFS ou CIFS pour créer un fichier compatible WORM. Un fichier WORM fiable conserve les données écrites de manière incrémentielle, comme les entrées de journal. Les données sont ajoutées au fichier par blocs de 256 Ko. Au fur et à mesure que chaque bloc est écrit, le bloc précédent devient protégé par WORM. Vous ne pouvez pas supprimer le fichier tant que la période de conservation n'est pas écoulée.

.Ce dont vous avez besoin
Le fichier fiable WORM doit résider sur un volume SnapLock.

.Description de la tâche
Les données n'ont pas besoin d'être écrites de manière séquentielle dans le bloc actif de 256 Ko. Lorsque les données sont écrites sur l'octet n×256 Ko+1 du fichier, le segment 256 Ko précédent devient protégé par WORM.

.Étapes
. Utilisez une commande ou un programme approprié pour créer un fichier de longueur nulle avec le temps de rétention souhaité.
+
Dans un shell UNIX, utilisez la commande suivante pour définir un temps de rétention de 21 novembre 2020 6 h 00 sur un fichier de longueur zéro nommé `document.txt`:

+
[listing]
----
touch -a -t 202011210600 document.txt
----
. Utilisez une commande ou un programme approprié pour modifier l'attribut lecture-écriture du fichier en lecture seule.
+
Dans un shell UNIX, utilisez la commande suivante pour créer un fichier nommé `document.txt` lecture seule :

+
[listing]
----
chmod 444 document.txt
----
. Utilisez une commande ou un programme approprié pour remettre l'attribut de lecture-écriture du fichier en inscriptible.
+
[NOTE]
====
Cette étape n'est pas considérée comme un risque de conformité, car aucune donnée n'est présente dans le fichier.

====
+
Dans un shell UNIX, utilisez la commande suivante pour créer un fichier nommé `document.txt` inscriptible :

+
[listing]
----
chmod 777 document.txt
----
. Utilisez une commande ou un programme approprié pour commencer à écrire des données dans le fichier.
+
Dans un shell UNIX, utiliser la commande suivante pour écrire des données sur `document.txt`:

+
[listing]
----
echo test data >> document.txt
----
+
[NOTE]
====
Rétablissez les autorisations de fichier en lecture seule lorsque vous n'avez plus besoin d'ajouter des données au fichier.

====

